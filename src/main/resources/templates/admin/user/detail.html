<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/admin/admin-layout}">

<head>
    <title>Chi tiết người dùng</title>
</head>

<body>
    <div layout:fragment="content">
        <div class="d-flex align-items-left align-items-md-center flex-column flex-md-row pt-2 pb-4">
            <div>
                <h3 class="fw-bold mb-3">Người dùng</h3>
            </div>
            <!-- Breadcrumb -->
            <ul class="breadcrumbs mb-3">
                <li class="nav-home">
                    <a href="/admin">
                        <i class="icon-home"></i>
                    </a>
                </li>
                <li class="separator">
                    <i class="icon-arrow-right"></i>
                </li>
                <li class="nav-item">
                    <a href="/admin/user">Người dùng</a>
                </li>
                <li class="separator">
                    <i class="icon-arrow-right"></i>
                </li>
                <li class="nav-item">
                    <a href="#">Chi tiết</a>
                </li>
            </ul>
        </div>
        <!-- Content -->
        <div class="row">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Chi tiết người dùng id: <span th:text="${user.id}"></span></h4>
                </div>
                <div class="card-body">
                    <ul class="nav nav-pills nav-secondary" id="pills-tab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="pills-home-tab" data-bs-toggle="pill" href="#pills-home" role="tab"
                                aria-controls="pills-home" aria-selected="false" tabindex="-1">Người dùng</a>
                        </li>
                        <li class="nav-item submenu" role="presentation">
                            <a class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" href="#pills-profile"
                                role="tab" aria-controls="pills-profile" aria-selected="false" tabindex="-1">Vé</a>
                        </li>
                        <li class="nav-item submenu" role="presentation">
                            <a class="nav-link active" id="pills-contact-tab" data-bs-toggle="pill"
                                href="#pills-contact" role="tab" aria-controls="pills-contact" aria-selected="true">Giao
                                dịch</a>
                        </li>
                    </ul>
                    <div class="tab-content mt-2 mb-3" id="pills-tabContent">
                        <!-- Tab Thông tin người dùng -->
                        <div class="tab-pane fade" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <p><strong>Username:</strong> <span th:text="${user.username}"></span></p>
                                    <p><strong>Email:</strong> <span th:text="${user.email}"></span></p>
                                    <p><strong>Phone:</strong> <span th:text="${user.phone}"></span></p>
                                    <p><strong>Ngày sinh:</strong> <span th:text="${user.dateOfBirth}"></span></p>
                                    <p><strong>Giới tính:</strong> <span th:text="${user.gender}"></span></p>
                                </div>
                                <div class="col-md-6">
                                    <p><strong>Trạng thái:</strong> <span th:text="${user.status}"></span></p>
                                    <p><strong>Vai trò:</strong> <span th:text="${user.role}"></span></p>
                                    <p><strong>Số dư ví:</strong> <span th:text="${user.balance}"></span></p>
                                    <p><strong>Địa chỉ:</strong> <span th:text="${user.address}"></span></p>
                                </div>
                            </div>
                            <div class="row mt-3 d-flex justify-content-center">
                                <img style="width: 300px;" th:src="'/common/avatar/' +${user.avatar}" alt="Avatar">
                            </div>
                        </div>

                        <!-- Tab Danh sách vé -->
                        <div class="tab-pane fade" id="pills-profile" role="tabpanel"
                            aria-labelledby="pills-profile-tab">
                            <div class="mt-3">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID Vé</th>
                                            <th>Số vé</th>
                                            <th>Trạng thái</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="ticket : ${user.ticketsDTO}">
                                            <td th:text="${ticket.id}"></td>
                                            <td th:text="${ticket.numbersTicket}"></td>
                                            <td th:text="${ticket.status}"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Tab Danh sách giao dịch -->
                        <div class="tab-pane fade active show" id="pills-contact" role="tabpanel"
                            aria-labelledby="pills-contact-tab">
                            <div class="mt-3">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID Giao dịch</th>
                                            <th>Số tiền</th>
                                            <th>Loại giao dịch</th>
                                            <th>Trạng thái</th>
                                            <th>Ngày tạo</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="transaction : ${user.transactionDTO}">
                                            <td th:text="${transaction.id}"></td>
                                            <td th:text="${transaction.amount}"></td>
                                            <td th:text="${transaction.transactionType}"></td>
                                            <td th:text="${transaction.status}"></td>
                                            <td th:text="${transaction.createdDate}"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>